/*! For license information please see react-selectable.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactSelectable=t(require("react")):e.ReactSelectable=t(e.React)}(this,e=>(()=>{var t={442(t){"use strict";t.exports=e},556(e,t,n){e.exports=n(694)()},694(e,t,n){"use strict";var o=n(925);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,c){if(c!==o){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},858(e,t,n){var o="Expected a function",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,f=l||s||Function("return this")(),p=Object.prototype.toString,h=Math.max,y=Math.min,d=function(){return f.Date.now()};function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==p.call(e)}(e))return NaN;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=c.test(e);return n||u.test(e)?a(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(o);return b(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),function(e,t,n){var r,i,c,u,a,l,s=0,f=!1,p=!1,m=!0;if("function"!=typeof e)throw new TypeError(o);function g(t){var n=r,o=i;return r=i=void 0,s=t,u=e.apply(o,n)}function _(e){var n=e-l;return void 0===l||n>=t||n<0||p&&e-s>=c}function w(){var e=d();if(_(e))return S(e);a=setTimeout(w,function(e){var n=t-(e-l);return p?y(n,c-(e-s)):n}(e))}function S(e){return a=void 0,m&&r?g(e):(r=i=void 0,u)}function x(){var e=d(),n=_(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return function(e){return s=e,a=setTimeout(w,t),f?g(e):u}(l);if(p)return a=setTimeout(w,t),g(l)}return void 0===a&&(a=setTimeout(w,t)),u}return t=v(t)||0,b(n)&&(f=!!n.leading,c=(p="maxWait"in n)?h(v(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),x.cancel=function(){void 0!==a&&clearTimeout(a),s=0,r=l=i=a=void 0},x.flush=function(){return void 0===a?u:S(d())},x}(e,t,{leading:r,maxWait:t,trailing:i})}},925(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},942(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=c(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=c(t,n));return t}function c(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";o.r(r),o.d(r,{SelectableContext:()=>a,SelectableGroup:()=>S,createSelectable:()=>k,isNodeIn:()=>l,nodeInRoot:()=>s});var e=o(442),t=o.n(e),n=o(556),i=o.n(n),c=o(942),u=o.n(c);const a=t().createContext(null),l=function(e,t){if("function"!=typeof t)throw new Error("isNodeIn second parameter must be a function");for(var n=e;n;){if(t(n))return!0;n=n.parentNode}return!1},s=function(e,t){return l(e,function(e){return e===t})},f=function(e){if(!e)return{top:0,left:0,width:0,height:0};var t=e.getBoundingClientRect(),n=t.height||0,o=t.width||0,r=window.pageYOffset||document.documentElement.scrollTop||0,i=window.pageXOffset||document.documentElement.scrollLeft||0;return{top:(t.top||0)+r,left:(t.left||0)+i,width:o,height:n}},p=function(e,t){var n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!(!e||!t)&&(n=e instanceof HTMLElement||e instanceof SVGElement?f(e):{top:e.top||0,left:e.left||0,width:e.width||e.offsetWidth||0,height:e.height||e.offsetHeight||0},o=t instanceof HTMLElement||t instanceof SVGElement?f(t):{top:t.top||0,left:t.left||0,width:t.width||t.offsetWidth||0,height:t.height||t.offsetHeight||0},function(e,t,n,o,r,i,c,u,a){var l=Number(a)||0;return!(e+i-l<n||e+l>n+u||t+r-l<o||t+l>o+c)}(n.top,n.left,o.top,o.left,n.width,n.height,o.width,o.height,r))};var h=o(858),y=o.n(h);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,v(o.key),o)}}function v(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}var w=function(n){function o(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=function(e,t,n){return t=g(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,n||[],g(e).constructor):t.apply(e,n))}(this,o,[t])).state={isBoxSelecting:!1,boxWidth:0,boxHeight:0},n._mouseDownData=null,n._rect=null,n._registry=[],n._containerRef=(0,e.createRef)(),n._selectboxRef=(0,e.createRef)(),n._openSelector=n._openSelector.bind(n),n._mouseDown=n._mouseDown.bind(n),n._mouseUp=n._mouseUp.bind(n),n._selectElements=n._selectElements.bind(n),n._registerSelectable=n._registerSelectable.bind(n),n._unregisterSelectable=n._unregisterSelectable.bind(n),n._throttledSelect=y()(n._selectElements,50),n._contextValue={register:n._registerSelectable,unregister:n._unregisterSelectable},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(o,n),r=o,i=[{key:"componentDidMount",value:function(){this._applyMousedown(this.props.enabled),this._rect=this._getInitialCoordinates()}},{key:"componentWillUnmount",value:function(){this._applyMousedown(!1),this._throttledSelect&&this._throttledSelect.cancel&&this._throttledSelect.cancel()}},{key:"componentDidUpdate",value:function(e){e.enabled!==this.props.enabled&&this._applyMousedown(this.props.enabled)}},{key:"_registerSelectable",value:function(e,t){this._registry.push({key:e,domNode:t})}},{key:"_unregisterSelectable",value:function(e){this._registry=this._registry.filter(function(t){return t.key!==e})}},{key:"_applyMousedown",value:function(e){var t=this._containerRef.current;t&&t[e?"addEventListener":"removeEventListener"]("mousedown",this._mouseDown)}},{key:"_openSelector",value:function(e){var t=this.props.onBeginDrag,n=this.state.isBoxSelecting,o=Math.abs(this._mouseDownData.initialW-e.clientX+this._rect.x),r=Math.abs(this._mouseDownData.initialH-e.clientY+this._rect.y);t&&"function"==typeof t&&!n&&t(e),this.setState({isBoxSelecting:!0,boxWidth:o,boxHeight:r,boxLeft:Math.min(e.clientX-this._rect.x,this._mouseDownData.initialW),boxTop:Math.min(e.clientY-this._rect.y,this._mouseDownData.initialH)}),this._throttledSelect(e)}},{key:"_getInitialCoordinates",value:function(){if(this.props.fixedPosition)return{x:0,y:0};var e=this._containerRef.current;if(!e)return{x:0,y:0};var t=e.getBoundingClientRect();return{x:Math.round(t.left),y:Math.round(t.top)}}},{key:"_mouseDown",value:function(e){var t=this.props,n=t.onBeginSelection,o=t.preventDefault;if(!(l(e.target,function(e){return!!e.draggable})||e.target.getAttribute("data-draggable")||"function"==typeof n&&!1===n(e))){var r,i=this._containerRef.current;i&&(window.addEventListener("mouseup",this._mouseUp),3!==e.which&&2!==e.button&&(s(e.target,i)||(r=f(i),p({top:r.top,left:r.left,bottom:r.offsetHeight,right:r.offsetWidth},{top:e.clientY-this._rect.y,left:e.clientX-this._rect.x,offsetWidth:0,offsetHeight:0})))&&(this._rect=this._getInitialCoordinates(),this._mouseDownData={boxLeft:e.clientX-this._rect.x,boxTop:e.clientY-this._rect.y,initialW:e.clientX-this._rect.x,initialH:e.clientY-this._rect.y},o&&e.preventDefault(),window.addEventListener("mousemove",this._openSelector)))}}},{key:"_mouseUp",value:function(e){var t=this.props.onNonItemClick,n=this.state.isBoxSelecting;e.stopPropagation(),this._mouseDownData&&(t&&!n&&(this._registry.some(function(t){var n=t.domNode;return s(e.target,n)})||t(e)),this._selectElements(e,!0),this._mouseDownData=null,this.setState({isBoxSelecting:!1,boxWidth:0,boxHeight:0}),window.removeEventListener("mousemove",this._openSelector),window.removeEventListener("mouseup",this._mouseUp))}},{key:"_selectElements",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,o=n.tolerance,r=n.onSelection,i=n.onEndSelection,c=[],u=this._selectboxRef.current;u&&(this._registry.forEach(function(e){e.domNode&&p(u,e.domNode,o)&&!c.includes(e.key)&&c.push(e.key)}),t?"function"==typeof i&&i(c,e):"function"==typeof r&&r(c,e))}},{key:"render",value:function(){var e=this.props,n=e.children,o=e.enabled,r=e.fixedPosition,i=e.className,c=e.selectingClassName,l=this.state,s=l.isBoxSelecting,f=l.boxLeft,p=l.boxTop,h=l.boxWidth,y=l.boxHeight,d=this.props.component;if(!o)return t().createElement(d,{className:i,ref:this._containerRef},t().createElement(a.Provider,{value:this._contextValue},n));var b={left:f,top:p,width:h,height:y,zIndex:9e3,position:r?"fixed":"absolute",cursor:"default",pointerEvents:"none"};return t().createElement(d,{className:u()(i,s?c:null),style:{position:"relative",overflow:"visible"},ref:this._containerRef},t().createElement(a.Provider,{value:this._contextValue},s?t().createElement("div",{style:b,ref:this._selectboxRef},t().createElement("span",{style:{backgroundColor:"transparent",border:"1px dashed #999",width:"100%",height:"100%",float:"left"}})):null,n))}}],i&&b(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);w.propTypes={children:i().node,onBeginSelection:i().func,onEndSelection:i().func,onSelection:i().func,component:i().string,tolerance:i().number,fixedPosition:i().bool,preventDefault:i().bool,onNonItemClick:i().func,enabled:i().bool,className:i().string,selectingClassName:i().string,onBeginDrag:i().func},w.defaultProps={component:"div",tolerance:0,fixedPosition:!1,preventDefault:!0,enabled:!0};const S=w;function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var O=["selectableKey"];function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},j.apply(null,arguments)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,P(o.key),o)}}function P(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}const k=function(e){var n=function(n){function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=function(e,t,n){return t=D(t),function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,T()?Reflect.construct(t,n||[],D(e).constructor):t.apply(e,n))}(this,o,[e]))._node=null,t._setNodeRef=t._setNodeRef.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(o,n),r=o,i=[{key:"_setNodeRef",value:function(e){this._node=e;var t=this.context;t&&e&&t.register(this.props.selectableKey,e)}},{key:"componentWillUnmount",value:function(){var e=this.context;e&&e.unregister(this.props.selectableKey)}},{key:"render",value:function(){var n=this.props,o=(n.selectableKey,function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,O));return t().createElement(e,j({ref:this._setNodeRef},o),this.props.children)}}],i&&E(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(t().Component);n.contextType=a,n.propTypes={children:i().node,selectableKey:i().any.isRequired};var o=e.displayName||e.name||"Component";return n.displayName="Selectable(".concat(o,")"),n}})(),r})());